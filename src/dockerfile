FROM python:3.8

ARG appname=app

COPY requirements.txt /tmp
RUN python3.8 -m pip install -r /tmp/requirements.txt

ENV PYTHONUNBUFFERED 1

RUN django-admin startproject server
RUN mv server src

WORKDIR src
RUN python manage.py startapp ${appname}

WORKDIR ${appname}
RUN touch serializers.py
RUN touch urls.py

WORKDIR /src
